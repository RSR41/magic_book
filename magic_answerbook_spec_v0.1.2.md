# 마법의 고민해결책 (Answer Book) — 기술·기능 명세서 v0.1.2 (심사용 MVP)

> 목표: **1일 내 MVP 제작 → iOS/Android 심사 제출 가능한 수준**  
> 수익: **광고(AdMob) + 광고 제거(₩4,990) 1회 결제(영구)** / 답변: **로컬 JSON(대용량)** / UX: **폰 흔들기 → 2초 우주 애니메이션 → 답변 카드**

---

## v0.1.2 주요 변경사항
- ✅ 심사 거절 리스크 최소화 (의료/법률/예언 면책 강화)
- ✅ 광고 노출 정책 구체화 (첫 사용자 경험 보호)
- ✅ 대용량 답변 데이터 관리 전략 추가
- ✅ 예외 케이스 및 오류 처리 명확화
- ✅ i18n 확장 구조 및 리소스 관리 방법 정의
- ✅ 접근성 및 대체 수단 제공

---

> **정책 메모(중요)**  
> - iOS/Android에서 광고 제거는 **반드시 인앱결제(IAP)**로 처리해야 하며, 외부 결제 유도 문구/링크는 금지(심사 리스크).  
> - 가격 "₩4,990"은 스토어 가격 티어/환율에 따라 지역별로 표시 금액이 달라질 수 있음(명세에는 '약 ₩4,990'로 표기).
> - **"운세", "점", "예언" 단어 금지** — 앱 설명/UI에서는 "엔터테인먼트", "참고용", "오락" 표현 사용.
> - **의료/법률/투자 조언 명시적 면책** — 모든 답변 화면 및 스토어 설명에 포함 필수.

## 1. 제품 개요

- **컨셉**: 사용자가 고민/질문을 마음속으로 생각한 뒤, **폰을 흔들면** 랜덤 답변이 나오는 "해결의 책 / 마법의 소라고동" 스타일 앱
- **포지셔닝**: **엔터테인먼트 앱(참고/오락용)**, 전문 조언 대체 금지
- **오프라인**: 네트워크 없이 100% 동작(답변 데이터 로컬 번들)
- **타겟**: 빠른 의사결정 힌트를 원하는 사용자, MZ세대 밈 소비 층
- **스토어 카테고리**: Entertainment / Lifestyle

---

## 2. 핵심 사용자 플로우

1) 앱 실행  
2) (최초 1회) **인트로 애니메이션 + '고민 해결 시작' 버튼**  
3) 홈: "질문을 마음속으로 생각하고 폰을 흔들어 주세요"  
   - 흔들기 사용 불가 시: **"답변 받기" 버튼** 제공 (접근성 대체 수단)
4) 흔들기 감지 또는 버튼 탭 → **진동(옵션)** + **사운드(옵션)** → **약 2초 대기 애니메이션**  
5) 답변 카드 노출 (하단 면책 문구 고정)
6) 다시 뽑기 / 저장(즐겨찾기) / 공유

---

## 3. 기능 요구사항 (FR)

### FR-01 최초 1회 인트로
- **목적**: 앱 컨셉 소개 및 첫인상 형성
- **구성**:
  - 밤하늘/별 반짝임 배경 (Lottie 애니메이션 권장)
  - 중앙 타이틀: "마법의 고민해결책" (다국어)
  - **'고민 해결 시작' 버튼** (Primary CTA)
- **동작**:
  - 버튼 탭 시 홈으로 진입
  - `hasSeenIntro: true` 로컬 저장 (Hive metaBox)
- **스킵**: 없음 (최초 1회만 표시되므로 스킵 불필요)

### FR-02 홈 (메인 화면)
- **구성**:
  - 질문 입력 필드 (선택, 0~80자) — "오늘 고민이 있나요?" 플레이스홀더
  - 입력 없이도 정상 동작 (질문 저장은 선택)
  - 흔들기 안내: "폰을 흔들어 답변을 받아보세요" (애니메이션 아이콘)
  - **대체 버튼**: "답변 받기" — 흔들기 사용 불가 시 접근성 보장
  - 상단 우측: ⚙ 설정 아이콘
- **상태**:
  - 질문 입력 중: 입력 필드 활성화
  - 흔들기/버튼 대기: 기본 상태
  - 애니메이션 진행 중: 입력/버튼 비활성화

### FR-03 흔들기 실행(Shake Detection)
- **트리거**: 
  - 가속도계 기반 흔들기 감지 (임계값: 2.5~3.0g 권장)
  - 또는 "답변 받기" 버튼 탭
- **설정 연동**: 
  - 흔들기 On/Off (설정 화면)
  - Off 시에도 버튼은 작동
- **실행 시퀀스**:
  1. 진동 피드백 (설정 On, 200ms)
  2. 사운드 재생 (설정 On, 짧은 "종 소리" 효과음)
  3. 대기 애니메이션 오버레이 표시 (약 2초)
  4. 답변 랜덤 선택 및 표시
- **쿨다운**: 애니메이션 진행 중 중복 트리거 방지 (디바운싱)

### FR-04 2초 대기 애니메이션(우주 연출)
- **목적**: 기대감 형성 및 브랜드 경험 강화
- **배경**: 몽환적 밤하늘 (Deep Blue #0A0E27) + 흰 별 트윙클 반복
- **메인 애니메이션**:
  - 1단계 (0~1.5초): 은하수 나선 회전 (시계 방향, 3회전)
  - 2단계 (1.5~2초): 은하수 확대 + 중앙 빛 파동/플래시 연출
- **구현 권장**:
  - **Lottie 파일 2개** 또는 1개 통합 파일 (빠른 MVP 구현)
  - 파일 크기: 각 100KB 이하 (성능 최적화)
  - 프레임레이트: 30fps (배터리 고려)
- **로딩 실패 시**: 단순 프로그레스 바 (Fallback)

### FR-05 답변 카드 결과
- **구성**:
  - 메인 답변 텍스트 (1~2줄, 20~32pt)
  - 보조 텍스트 (선택, 1줄, 14~16pt, 회색)
  - 액션 버튼 (하단):
    - **다시 뽑기** (Primary) — 누적 카운트 증가 (전면광고 트리거)
    - **저장** (Secondary) — 즐겨찾기에 추가 (최대 50개)
    - **공유** (Secondary) — 텍스트 공유
- **하단 고정 문구** (모든 답변 화면):
  ```
  본 앱의 답변은 참고/오락용이며, 의료·법률·투자 등 전문적 판단을 대체하지 않습니다.
  ```
  (9pt, 회색, 좌우 여백 16pt)
- **애니메이션**: 카드 Fade In + Scale Up (0.3초)

### FR-06 저장/즐겨찾기(최대 50개, FIFO)
- **저장 로직**:
  - 최대 50개 저장
  - 51번째 저장 시 **가장 오래된 항목부터 자동 삭제(FIFO)**
  - 저장 시점: 타임스탬프 기록 (`savedAt: DateTime`)
- **저장 항목**:
  - 답변 ID, 메인/보조 텍스트, 질문 텍스트(옵션), 저장 시각
- **저장 화면** (탭 또는 별도 화면):
  - 리스트 뷰: 저장 시간 역순 (최신순)
  - 항목 탭 → 상세 팝업 (답변 전체 + 질문)
  - 스와이프 삭제 또는 삭제 버튼
  - 전체 삭제 버튼 (확인 다이얼로그)
- **배너 광고**: 저장 화면 하단 고정 (광고 제거 미구매 시)
- **예외**:
  - 중복 저장: 동일 답변 ID는 최신 타임스탬프로 업데이트
  - 저장 실패: 토스트 메시지 ("저장에 실패했습니다.")

### FR-07 공유
- **구현 우선순위**: MVP는 **텍스트 공유** 우선 (안정적)
- **공유 포맷**:
  ```
  Q: [질문 텍스트 또는 "고민"]
  A: [메인 답변] — [보조 텍스트]
  
  — 마법의 고민해결책
  ```
- **확장 계획** (v1.1 이후):
  - 이미지 공유 (카드 캡처)
  - 스토리 템플릿 (Instagram/KakaoTalk Story)
- **플랫폼 지원**: iOS Share Sheet / Android Intent

### FR-08 설정
- **항목**:
  1. **진동 On/Off** (기본: On)
  2. **흔들기 실행 On/Off** (기본: On)
  3. **사운드 On/Off** (기본: On)
  4. **언어 선택** (KO/EN, 확장 가능)
     - 변경 시 즉시 앱 재시작 없이 반영 (권장)
  5. **계정 연동 로그인** (선택, FR-09)
  6. **광고 제거** (₩4,990) — 구매/복원 (FR-11)
  7. **주의 문구** (면책)
     ```
     본 앱은 엔터테인먼트/오락 목적입니다.
     의료·법률·투자 등 중요한 판단은 전문가 상담을 권장합니다.
     효능이나 예언을 보장하지 않습니다.
     ```
  8. **라이선스 고지** (오픈소스 라이선스)
  9. **버전 정보**
- **권한 안내**:
  - 가속도계: 흔들기 기능 (필수)
  - 알림: 미사용 (권한 요청 없음)

### FR-09 계정 연동 로그인(선택)
- **비로그인 원칙**: 핵심 기능(답변 받기, 저장, 공유) 100% 사용 가능
- **로그인 제공 시**:
  - iOS: **Sign in with Apple** (필수, 심사 정책)
  - Android: **Google Sign-In**
- **로그인 혜택** (옵션):
  - 저장 목록 50개 클라우드 동기화 (Firestore)
  - 기기 변경 시 복원 가능
- **구현 우선순위**: MVP에서는 **로그인 없이 로컬 저장만** 구현 권장
  - v1.1 이후 로그인 추가 시 마이그레이션 로직 제공

### FR-10 광고(AdMob)
- **광고 유형**:
  1. **배너 광고** (320x50):
     - 위치: 저장 화면 하단 고정
     - 노출: 저장 화면 진입 시마다
  2. **전면 광고** (Interstitial):
     - 트리거: "다시 뽑기" 누적 N회(기본 5회)마다 1회
     - 최소 간격: 60초
     - **예외**: 첫 실행 후 첫 답변 및 첫 "다시 뽑기" 2~3회는 전면광고 금지 (이탈 방지)
- **광고 정책**:
  - 비개인화 광고 기본 (GDPR/CCPA 준수)
  - 광고 ID: `ca-app-pub-xxxxxxxxxxxxxxxx~xxxxxxxxxx` (AdMob 콘솔에서 발급)
  - **광고 로딩 실패 시**: 사용자 경험 유지 (광고 없이 진행)
- **광고 제거 구매 시**: 모든 광고 비노출

### FR-11 광고 제거(₩4,990) 1회 결제(영구) — IAP
- **목적**: 유저가 **₩4,990(지역별 가격 로컬라이즈)** 1회 결제 시 앱 내 **모든 광고를 영구적으로 비노출**
- **결제 방식**: **플랫폼 인앱결제(IAP) 필수**
  - iOS: StoreKit (In-App Purchase)
  - Android: Google Play Billing
- **상품 정보**:
  - 상품 ID: `remove_ads_forever_4990` (iOS/Android 동일)
  - 상품 유형: 비소모성(Non-Consumable)
  - 가격 티어: ₩4,990 (USD $4.99 등 지역별 환산)
- **제공 기능**:
  - **"광고 제거" 구매 버튼** (설정 화면)
  - **"구매 복원(Restore Purchases)" 버튼** (설정 화면, iOS 필수)
  - 구매 성공 시 즉시 광고 비노출(배너/전면 모두)
  - 오프라인에서도 "광고 제거 상태"는 로컬로 유지
- **상태 저장** (권장):
  - `isAdFree: bool` (로컬 저장소 Hive settingsBox)
  - 앱 실행 시 구매 상태/복원 결과와 동기화
- **예외/안정성**:
  - 결제 실패/취소: 토스트 메시지 ("구매가 취소되었습니다.")
  - 네트워크 오류: 스낵바 안내 ("네트워크를 확인해 주세요.")
  - 구매는 계정에 귀속되므로 기기 변경 시 "구매 복원"으로 복구 가능
- **광고 노출 정책과의 연동**:
  - `isAdFree == true`이면 FR-10의 배너/전면광고 로직을 모두 스킵
  - 첫 실행/첫 답변 전면광고 금지 정책은 광고 사용자에게만 적용

---

## 4. 비기능 요구사항 (NFR)

### NFR-01 오프라인 100%
- 모든 답변 데이터는 앱 번들에 포함 (`assets/data/answers.json`)
- 네트워크 없이 전체 기능 사용 가능
- 예외: 광고 로딩(AdMob), 로그인(선택), 클라우드 동기화(선택)

### NFR-02 성능
- 앱 실행: 2초 이내 홈 화면 노출
- 답변 선택: 0.1초 이내 (메모리 캐싱)
- 애니메이션: 60fps 목표 (Lottie 최적화 필수)
- 저장 목록 로딩: 0.5초 이내 (50개 기준)

### NFR-03 메모리
- 답변 데이터 로딩: 최초 1회 메모리 캐싱 (대용량 대비 lazy loading 고려)
- Lottie 파일: 각 100KB 이하, 필요 시에만 로딩
- 이미지 리소스: WebP 포맷 권장 (용량 최적화)

### NFR-04 데이터 안정성
- 답변 데이터 로드 실패 시: **Fallback 답변 20개** 하드코딩 (코드 내장)
- 저장 실패: 토스트 메시지 + 로컬 로그 기록
- 흔들기 감지 실패: 버튼 대체 수단 제공 (접근성)

### NFR-05 접근성
- 흔들기 사용 불가 시: "답변 받기" 버튼 제공
- 텍스트 크기: 시스템 폰트 크기 설정 반영
- 색상: WCAG AA 기준 대비율 준수
- VoiceOver/TalkBack: 주요 버튼 레이블 제공

### NFR-06 다국어(i18n)
- 최소: 한국어(KO), 영어(EN), 일본어(JA), 중국어 간체(ZH-CN)
- 확장 계획: 33개국 언제 확장
- 구현: flutter_localizations + intl 패키지
- 리소스 관리: ARB 파일 (`lib/l10n/*.arb`)

---

## 5. 화면/IA (Information Architecture)

### 화면 구조
1. **Intro** (최초 1회)
2. **Home** (메인, 탭 1)
   - 질문 입력 (선택)
   - 흔들기 안내
   - "답변 받기" 버튼
3. **Waiting Overlay** (2초 애니메이션)
4. **Result Card** (답변 카드)
   - 다시 뽑기 / 저장 / 공유
5. **Saved** (저장 목록, 탭 2)
   - 리스트 뷰
   - 배너 광고 (하단)
6. **Settings** (설정, 탭 3)
   - 진동/흔들기/사운드/언어/로그인/광고 제거 등

### 탭 바 (권장)
- 탭 3개: **Home** / **Saved** / **Settings**
- 아이콘: Material Icons 또는 Cupertino Icons

### 네비게이션
- 모달 팝업: Result Card, 상세 팝업
- 전환 애니메이션: Fade + Scale (0.3초)

---

## 6. 데이터 설계

### 6-1. 답변 데이터 (JSON)

#### 파일 위치
- `assets/data/answers.json`
- 다국어 포함 (ko, en, ja, zh-cn, zh-tw)

#### 스키마
```json
{
  "version": "0.1.2",
  "total": 200,
  "answers": [
    {
      "id": "A0001",
      "tags": ["go", "meme"],
      "text": {
        "ko": "지금이 기회야. 잡아.",
        "en": "Now's your chance—take it.",
        "ja": "今がチャンス。掴め。",
        "zh-cn": "现在就是机会。抓住它。",
        "zh-tw": "現在就是機會。抓住它。"
      },
      "subtext": {
        "ko": "딱 한 번만 더 용기.",
        "en": "One more ounce of courage.",
        "ja": "もう一度だけ勇気を。",
        "zh-cn": "再鼓起一次勇气。",
        "zh-tw": "再鼓起一次勇氣。"
      }
    }
  ]
}
```

#### 확장 계획
- 초기: 200개 (MVP)
- v1.1: 500개
- v1.2: 1,000개+
- 추후: 카테고리별 분리 파일 (`answers_work.json`, `answers_love.json` 등)

### 6-2. 대용량 답변 데이터 관리 전략

#### 로딩 방식
- **초기 로딩**: 앱 시작 시 JSON 파일을 메모리에 캐싱
- **Lazy Loading** (1,000개 이상 시):
  - 카테고리별 분리 파일
  - 필요 시에만 로딩 (예: 사용자가 특정 태그 필터링)

#### 랜덤 선택 알고리즘
- **기본**: `Random().nextInt(answers.length)`
- **중복 방지** (옵션, v1.1 이후):
  - 최근 N개(예: 20개) 답변 ID 기록
  - 중복 시 재선택 (최대 3회 시도)
  - 전체 답변 수가 적으면 중복 허용

#### 인덱싱
- 태그별 인덱스 (옵션):
  ```dart
  Map<String, List<int>> tagIndex = {
    'go': [0, 5, 12, ...],
    'wait': [1, 6, 13, ...],
  };
  ```
- 검색 시 O(1) 접근

#### 메모리 관리
- 답변 객체: 평균 300 bytes
- 1,000개: ~300 KB (메모리 부담 적음)
- 10,000개: ~3 MB (lazy loading 권장)

### 6-3. 로컬 저장 (Hive)

#### Box 구조
1. **settingsBox** (설정)
   ```dart
   {
     'vibration': true,
     'shake': true,
     'sound': true,
     'language': 'ko',
     'isAdFree': false,
     'hasSeenIntro': true,
   }
   ```

2. **metaBox** (메타 데이터)
   ```dart
   {
     'firstLaunchDate': '2026-02-11',
     'totalAnswersCount': 25,
     'adInterstitialCount': 0,
     'lastAdShownAt': DateTime,
   }
   ```

3. **savedBox** (저장 답변, 최대 50개)
   ```dart
   {
     'saved_001': {
       'answerId': 'A0001',
       'question': '오늘 고민...',
       'text': {...},
       'subtext': {...},
       'savedAt': DateTime,
     },
     ...
   }
   ```

#### FIFO 로직 구현
```dart
Future<void> saveAnswer(Answer answer) async {
  final box = Hive.box('savedBox');
  final keys = box.keys.toList();
  
  // 50개 초과 시 가장 오래된 항목 삭제
  if (keys.length >= 50) {
    // savedAt 기준 정렬
    keys.sort((a, b) {
      final aTime = box.get(a)['savedAt'] as DateTime;
      final bTime = box.get(b)['savedAt'] as DateTime;
      return aTime.compareTo(bTime);
    });
    // 가장 오래된 항목 삭제
    await box.delete(keys.first);
  }
  
  // 새 항목 추가
  await box.put('saved_${DateTime.now().millisecondsSinceEpoch}', {
    'answerId': answer.id,
    'question': currentQuestion,
    'text': answer.text,
    'subtext': answer.subtext,
    'savedAt': DateTime.now(),
  });
}
```

#### 예외 케이스
- 저장 중 앱 종료: Hive 트랜잭션 보장
- 중복 저장: 동일 answerId는 최신 타임스탬프로 업데이트 (선택)
- 저장 실패: 토스트 메시지 + 로컬 로그

---

## 7. 기술 스택(권장)

### 7-1. Flutter 패키지
- **상태관리**: riverpod (^2.5.0)
- **로컬 DB**: hive (^2.2.3) + hive_flutter
- **애니메이션**: lottie (^2.7.0)
- **흔들기**: shake (^2.2.0) 또는 sensors_plus (^4.0.0)
- **공유**: share_plus (^7.2.0)
- **광고**: google_mobile_ads (^4.0.0)
- **인앱결제**: in_app_purchase (^3.1.11)
- **다국어**: flutter_localizations (SDK) + intl (^0.18.0)
- **로그인** (선택):
  - firebase_auth (^4.15.0)
  - google_sign_in (^6.1.5)
  - sign_in_with_apple (^5.0.0)
  - cloud_firestore (^4.13.0) — 동기화 시

### 7-2. 개발 환경
- Flutter SDK: 3.16.0 이상
- Dart: 3.2.0 이상
- iOS: 12.0 이상
- Android: API 21 (Lollipop) 이상

### 7-3. 빌드 설정
- iOS: Runner.xcworkspace (Xcode)
  - Info.plist: NSMotionUsageDescription (흔들기 권한)
- Android: build.gradle
  - minSdkVersion: 21
  - targetSdkVersion: 34

---

## 8. i18n 확장 구조

### 8-1. 지원 언어
- 최소 (MVP): 한국어(ko), 영어(en)
- 확장 (v1.1+): 일본어(ja), 중국어 간체(zh-cn), 중국어 번체(zh-tw)

### 8-2. 리소스 관리
#### ARB 파일 구조
```
lib/
  l10n/
    app_ko.arb
    app_en.arb
    app_ja.arb  (확장)
    app_zh.arb  (확장)
```

#### 예시: app_ko.arb
```json
{
  "@@locale": "ko",
  "appTitle": "마법의 고민해결책",
  "homeTitle": "고민 해결",
  "shakeGuide": "폰을 흔들어 답변을 받아보세요",
  "getAnswerButton": "답변 받기",
  "tryAgain": "다시 뽑기",
  "save": "저장",
  "share": "공유",
  "disclaimer": "본 앱의 답변은 참고/오락용이며, 의료·법률·투자 등 전문적 판단을 대체하지 않습니다."
}
```

### 8-3. 답변 데이터 i18n
- JSON 파일 내 다국어 객체 (`text.ko`, `text.en` 등)
- 현재 언어 설정에 따라 동적 렌더링
- Fallback: 영어(en) 또는 한국어(ko) 기본값

### 8-4. 구현 팁
- `flutter_localizations` + `intl` 사용
- `flutter gen-l10n` 명령으로 자동 생성
- 언어 변경 시 `setState()` 또는 Riverpod 상태 갱신

---

## 9. 예외 처리 및 오류 시나리오

### 9-1. 답변 데이터 로딩 실패
- **원인**: JSON 파일 손상, assets 번들 누락
- **대응**:
  - Fallback 답변 20개 하드코딩 (코드 내장)
  - 토스트 메시지: "답변 데이터를 불러올 수 없습니다."
  - 로컬 로그 기록

### 9-2. 흔들기 감지 실패
- **원인**: 가속도계 미지원, 권한 거부
- **대응**:
  - "답변 받기" 버튼 제공 (필수)
  - 설정 화면에서 흔들기 On/Off 토글 제공

### 9-3. 애니메이션 로딩 실패
- **원인**: Lottie 파일 손상, 메모리 부족
- **대응**:
  - Fallback: 단순 프로그레스 바 또는 정적 이미지
  - 사용자 경험 유지 (답변 표시는 정상 진행)

### 9-4. 광고 로딩 실패
- **원인**: 네트워크 오류, AdMob 오류
- **대응**:
  - 사용자 경험 유지 (광고 없이 진행)
  - 재시도 로직 (1회)
  - 로그 기록 (디버깅용)

### 9-5. 저장 실패
- **원인**: Hive 오류, 디스크 공간 부족
- **대응**:
  - 토스트 메시지: "저장에 실패했습니다."
  - 로컬 로그 기록
  - 재시도 옵션 제공 (선택)

### 9-6. IAP 실패
- **원인**: 네트워크 오류, 결제 취소, 계정 문제
- **대응**:
  - 결제 취소: 토스트 메시지 ("구매가 취소되었습니다.")
  - 네트워크 오류: 스낵바 안내 ("네트워크를 확인해 주세요.")
  - 로그 기록 (디버깅용)

---

## 10. 심사/정책 대응 문구(필수)

### 10-1. 앱 내 고정 문구
- **답변 카드 하단** (모든 답변 화면):
  ```
  본 앱의 답변은 참고/오락용이며, 의료·법률·투자 등 전문적 판단을 대체하지 않습니다.
  ```

- **설정 화면 주의 문구**:
  ```
  본 앱은 엔터테인먼트/오락 목적입니다.
  의료·법률·투자 등 중요한 판단은 전문가 상담을 권장합니다.
  효능이나 예언을 보장하지 않습니다.
  ```

### 10-2. 앱 스토어 설명 (권장)
- **iOS App Store**:
  ```
  [App Description]
  마법의 고민해결책은 일상의 작은 고민에 힌트를 제공하는 엔터테인먼트 앱입니다.
  폰을 흔들어 랜덤 답변을 받아보세요!
  
  ** 본 앱은 오락/참고 목적이며, 의료·법률·투자 등 전문적 조언을 대체하지 않습니다.
  ** 중요한 판단은 전문가 상담을 권장합니다.
  
  [Features]
  - 폰 흔들기로 랜덤 답변 받기
  - 200+ 개의 트렌디한 답변 (계속 추가 예정)
  - 즐겨찾기 저장 (최대 50개)
  - 답변 공유 기능
  - 오프라인 사용 가능
  
  [Category]
  Entertainment
  ```

- **Google Play Store**:
  ```
  [App Description]
  마법의 고민해결책은 일상의 작은 고민에 힌트를 제공하는 엔터테인먼트 앱입니다.
  폰을 흔들어 랜덤 답변을 받아보세요!
  
  ** 본 앱은 오락/참고 목적이며, 의료·법률·투자 등 전문적 조언을 대체하지 않습니다.
  ** 중요한 판단은 전문가 상담을 권장합니다.
  
  [주요 기능]
  - 폰 흔들기로 랜덤 답변 받기
  - 200+ 개의 트렌디한 답변 (계속 추가 예정)
  - 즐겨찾기 저장 (최대 50개)
  - 답변 공유 기능
  - 오프라인 사용 가능
  
  [카테고리]
  엔터테인먼트
  ```

### 10-3. 금지 단어/표현
- **사용 금지**: "운세", "점", "예언", "미래 예측", "진단", "치료", "법률 자문", "투자 조언"
- **사용 권장**: "힌트", "참고", "오락", "엔터테인먼트", "랜덤 답변", "영감"

### 10-4. 심사 시 주의사항
- **iOS**:
  - Sign in with Apple 필수 (다른 소셜 로그인 제공 시)
  - IAP 외부 결제 링크/문구 금지
  - 가속도계 권한 사유 명시 (Info.plist)
- **Android**:
  - Google Play Billing 사용 (IAP)
  - 광고 ID 권한 명시 (AndroidManifest.xml)
  - 미성년자 보호 정책 준수

---

## 11. 출시 전 체크리스트

### 11-1. 기능 테스트
- [ ] 흔들기 감지 정상 동작
- [ ] "답변 받기" 버튼 동작
- [ ] 2초 대기 애니메이션 정상 재생
- [ ] 답변 카드 표시 및 애니메이션
- [ ] 저장 기능 (최대 50개, FIFO)
- [ ] 공유 기능 (텍스트)
- [ ] 설정 변경 (진동/흔들기/사운드/언어)
- [ ] 광고 표시 (배너/전면)
- [ ] IAP 구매 및 복원
- [ ] 광고 제거 구매 후 광고 비노출

### 11-2. 예외 처리
- [ ] 답변 데이터 로딩 실패 시 Fallback
- [ ] 흔들기 실패 시 버튼 동작
- [ ] 애니메이션 로딩 실패 시 Fallback
- [ ] 광고 로딩 실패 시 사용자 경험 유지
- [ ] 저장 실패 시 토스트 메시지
- [ ] IAP 실패 시 에러 메시지

### 11-3. 정책 준수
- [ ] 답변 카드 하단 면책 문구 표시
- [ ] 설정 화면 주의 문구 표시
- [ ] 앱 스토어 설명 면책 문구 포함
- [ ] "운세", "점", "예언" 단어 미사용
- [ ] iOS: Sign in with Apple (로그인 제공 시)
- [ ] iOS: Info.plist 권한 사유 명시
- [ ] Android: 광고 ID 권한 명시

### 11-4. 성능/안정성
- [ ] 앱 실행 2초 이내
- [ ] 애니메이션 60fps
- [ ] 저장 목록 0.5초 이내 로딩
- [ ] 메모리 사용량 정상 범위
- [ ] 오프라인 100% 동작
- [ ] 크래시 없음 (Crashlytics 연동 권장)

### 11-5. 디자인/UX
- [ ] 다국어 지원 (ko/en)
- [ ] 다크모드 지원 (선택)
- [ ] 접근성 레이블 제공
- [ ] WCAG AA 대비율 준수
- [ ] 로딩 인디케이터 제공

---

## 12. 개발 일정 (1일 MVP)

| 시간 | 작업 | 산출물 |
|------|------|--------|
| 0~2h | 프로젝트 초기화 + 패키지 설치 | Flutter 프로젝트 |
| 2~4h | 답변 데이터 JSON + 로딩 로직 | `answers.json` + 파서 |
| 4~6h | 홈 화면 + 흔들기 감지 | Home Screen |
| 6~8h | 대기 애니메이션 (Lottie) | Waiting Overlay |
| 8~10h | 답변 카드 + 저장/공유 | Result Card |
| 10~12h | 저장 목록 + Hive 연동 | Saved Screen |
| 12~14h | 설정 화면 + i18n | Settings Screen |
| 14~16h | 광고 연동 (AdMob) | 배너/전면 광고 |
| 16~18h | IAP 연동 (광고 제거) | In-App Purchase |
| 18~20h | 인트로 + 최초 1회 로직 | Intro Screen |
| 20~22h | 예외 처리 + 테스트 | 버그 수정 |
| 22~24h | 빌드 + 스토어 준비 | APK/IPA + 스토어 자료 |

---

## 13. 확장 로드맵

### v1.1 (출시 후 1개월)
- 답변 데이터 500개로 확장
- 로그인 기능 (Sign in with Apple / Google)
- 저장 목록 클라우드 동기화 (Firestore)
- 이미지 공유 (카드 캡처)

### v1.2 (출시 후 3개월)
- 답변 데이터 1,000개+
- 카테고리별 필터링 (연애/직장/공부 등)
- 다국어 확장 (일본어/중국어)
- 스토리 템플릿 (Instagram/KakaoTalk Story)

### v2.0 (출시 후 6개월)
- 프리미엄 구독 (월 ₩2,990)
  - 무제한 저장
  - 전용 답변 카테고리
  - 커스텀 답변 추가
- 위젯 (홈 화면)
- Apple Watch / Wear OS 지원

---

작성일: 2026-02-11  
버전: 0.1.2  
작성자: PM+Tech Lead (Claude)
